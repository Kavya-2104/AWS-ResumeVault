{"ast":null,"code":"import { invalidOriginException, invalidRedirectException } from '../../../../errors/constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/** @internal */\nfunction getRedirectUrl(redirects) {\n  const redirectUrlFromTheSameOrigin = redirects?.find(isSameOriginAndPathName) ?? redirects?.find(isTheSameDomain);\n  const redirectUrlFromDifferentOrigin = redirects?.find(isHttps) ?? redirects?.find(isHttp);\n  if (redirectUrlFromTheSameOrigin) {\n    return redirectUrlFromTheSameOrigin;\n  } else if (redirectUrlFromDifferentOrigin) {\n    throw invalidOriginException;\n  }\n  throw invalidRedirectException;\n}\n// origin + pathname => https://example.com/app\nconst isSameOriginAndPathName = redirect => redirect.startsWith(String(window.location.origin + window.location.pathname ?? '/'));\n// domain => outlook.live.com, github.com\nconst isTheSameDomain = redirect => redirect.includes(String(window.location.hostname));\nconst isHttp = redirect => redirect.startsWith('http://');\nconst isHttps = redirect => redirect.startsWith('https://');\nexport { getRedirectUrl };","map":{"version":3,"names":["getRedirectUrl","redirects","redirectUrlFromTheSameOrigin","find","isSameOriginAndPathName","isTheSameDomain","redirectUrlFromDifferentOrigin","isHttps","isHttp","invalidOriginException","invalidRedirectException","redirect","startsWith","String","window","location","origin","pathname","includes","hostname"],"sources":["E:\\CSC-PROJECT\\amplify-react-app\\node_modules\\@aws-amplify\\auth\\src\\providers\\cognito\\utils\\oauth\\getRedirectUrl.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { invalidOriginException, invalidRedirectException, } from '../../../../errors/constants';\n/** @internal */\nexport function getRedirectUrl(redirects) {\n    const redirectUrlFromTheSameOrigin = redirects?.find(isSameOriginAndPathName) ??\n        redirects?.find(isTheSameDomain);\n    const redirectUrlFromDifferentOrigin = redirects?.find(isHttps) ?? redirects?.find(isHttp);\n    if (redirectUrlFromTheSameOrigin) {\n        return redirectUrlFromTheSameOrigin;\n    }\n    else if (redirectUrlFromDifferentOrigin) {\n        throw invalidOriginException;\n    }\n    throw invalidRedirectException;\n}\n// origin + pathname => https://example.com/app\nconst isSameOriginAndPathName = (redirect) => redirect.startsWith(String(window.location.origin + window.location.pathname ?? '/'));\n// domain => outlook.live.com, github.com\nconst isTheSameDomain = (redirect) => redirect.includes(String(window.location.hostname));\nconst isHttp = (redirect) => redirect.startsWith('http://');\nconst isHttps = (redirect) => redirect.startsWith('https://');\n"],"mappings":";;AAAA;AACA;AAEA;AACO,SAASA,cAAcA,CAACC,SAAS,EAAE;EACtC,MAAMC,4BAA4B,GAAGD,SAAS,EAAEE,IAAI,CAACC,uBAAuB,CAAC,IACzEH,SAAS,EAAEE,IAAI,CAACE,eAAe,CAAC;EACpC,MAAMC,8BAA8B,GAAGL,SAAS,EAAEE,IAAI,CAACI,OAAO,CAAC,IAAIN,SAAS,EAAEE,IAAI,CAACK,MAAM,CAAC;EAC1F,IAAIN,4BAA4B,EAAE;IAC9B,OAAOA,4BAA4B;EAC3C,CAAK,MACI,IAAII,8BAA8B,EAAE;IACrC,MAAMG,sBAAsB;EACpC;EACI,MAAMC,wBAAwB;AAClC;AACA;AACA,MAAMN,uBAAuB,GAAIO,QAAQ,IAAKA,QAAQ,CAACC,UAAU,CAACC,MAAM,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,GAAGF,MAAM,CAACC,QAAQ,CAACE,QAAQ,IAAI,GAAG,CAAC,CAAC;AACnI;AACA,MAAMZ,eAAe,GAAIM,QAAQ,IAAKA,QAAQ,CAACO,QAAQ,CAACL,MAAM,CAACC,MAAM,CAACC,QAAQ,CAACI,QAAQ,CAAC,CAAC;AACzF,MAAMX,MAAM,GAAIG,QAAQ,IAAKA,QAAQ,CAACC,UAAU,CAAC,SAAS,CAAC;AAC3D,MAAML,OAAO,GAAII,QAAQ,IAAKA,QAAQ,CAACC,UAAU,CAAC,UAAU,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}