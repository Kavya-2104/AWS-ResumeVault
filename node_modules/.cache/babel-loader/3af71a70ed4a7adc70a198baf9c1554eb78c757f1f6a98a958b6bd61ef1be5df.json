{"ast":null,"code":"import JsCookie from 'js-cookie';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nclass CookieStorage {\n  constructor(data = {}) {\n    const {\n      path,\n      domain,\n      expires,\n      sameSite,\n      secure\n    } = data;\n    this.domain = domain;\n    this.path = path || '/';\n    this.expires = Object.prototype.hasOwnProperty.call(data, 'expires') ? expires : 365;\n    this.secure = Object.prototype.hasOwnProperty.call(data, 'secure') ? secure : true;\n    if (Object.prototype.hasOwnProperty.call(data, 'sameSite')) {\n      if (!sameSite || !['strict', 'lax', 'none'].includes(sameSite)) {\n        throw new Error('The sameSite value of cookieStorage must be \"lax\", \"strict\" or \"none\".');\n      }\n      if (sameSite === 'none' && !this.secure) {\n        throw new Error('sameSite = None requires the Secure attribute in latest browser versions.');\n      }\n      this.sameSite = sameSite;\n    }\n  }\n  async setItem(key, value) {\n    JsCookie.set(key, value, this.getData());\n  }\n  async getItem(key) {\n    const item = JsCookie.get(key);\n    return item ?? null;\n  }\n  async removeItem(key) {\n    JsCookie.remove(key, this.getData());\n  }\n  async clear() {\n    const cookie = JsCookie.get();\n    const promises = Object.keys(cookie).map(key => this.removeItem(key));\n    await Promise.all(promises);\n  }\n  getData() {\n    return {\n      path: this.path,\n      expires: this.expires,\n      domain: this.domain,\n      secure: this.secure,\n      ...(this.sameSite && {\n        sameSite: this.sameSite\n      })\n    };\n  }\n}\nexport { CookieStorage };","map":{"version":3,"names":["CookieStorage","constructor","data","path","domain","expires","sameSite","secure","Object","prototype","hasOwnProperty","call","includes","Error","setItem","key","value","JsCookie","set","getData","getItem","item","get","removeItem","remove","clear","cookie","promises","keys","map","Promise","all"],"sources":["E:\\CSC-PROJECT\\amplify-react-app\\node_modules\\@aws-amplify\\core\\src\\storage\\CookieStorage.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport JsCookie from 'js-cookie';\nexport class CookieStorage {\n    constructor(data = {}) {\n        const { path, domain, expires, sameSite, secure } = data;\n        this.domain = domain;\n        this.path = path || '/';\n        this.expires = Object.prototype.hasOwnProperty.call(data, 'expires')\n            ? expires\n            : 365;\n        this.secure = Object.prototype.hasOwnProperty.call(data, 'secure')\n            ? secure\n            : true;\n        if (Object.prototype.hasOwnProperty.call(data, 'sameSite')) {\n            if (!sameSite || !['strict', 'lax', 'none'].includes(sameSite)) {\n                throw new Error('The sameSite value of cookieStorage must be \"lax\", \"strict\" or \"none\".');\n            }\n            if (sameSite === 'none' && !this.secure) {\n                throw new Error('sameSite = None requires the Secure attribute in latest browser versions.');\n            }\n            this.sameSite = sameSite;\n        }\n    }\n    async setItem(key, value) {\n        JsCookie.set(key, value, this.getData());\n    }\n    async getItem(key) {\n        const item = JsCookie.get(key);\n        return item ?? null;\n    }\n    async removeItem(key) {\n        JsCookie.remove(key, this.getData());\n    }\n    async clear() {\n        const cookie = JsCookie.get();\n        const promises = Object.keys(cookie).map(key => this.removeItem(key));\n        await Promise.all(promises);\n    }\n    getData() {\n        return {\n            path: this.path,\n            expires: this.expires,\n            domain: this.domain,\n            secure: this.secure,\n            ...(this.sameSite && { sameSite: this.sameSite }),\n        };\n    }\n}\n"],"mappings":";;AAAA;AACA;AAEO,MAAMA,aAAa,CAAC;EACvBC,WAAWA,CAACC,IAAI,GAAG,EAAE,EAAE;IACnB,MAAM;MAAEC,IAAI;MAAEC,MAAM;MAAEC,OAAO;MAAEC,QAAQ;MAAEC;IAAM,CAAE,GAAGL,IAAI;IACxD,IAAI,CAACE,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACD,IAAI,GAAGA,IAAI,IAAI,GAAG;IACvB,IAAI,CAACE,OAAO,GAAGG,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACT,IAAI,EAAE,SAAS,CAAC,GAC9DG,OAAO,GACP,GAAG;IACT,IAAI,CAACE,MAAM,GAAGC,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACT,IAAI,EAAE,QAAQ,CAAC,GAC5DK,MAAM,GACN,IAAI;IACV,IAAIC,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACT,IAAI,EAAE,UAAU,CAAC,EAAE;MACxD,IAAI,CAACI,QAAQ,IAAI,CAAC,CAAC,QAAQ,EAAE,KAAK,EAAE,MAAM,CAAC,CAACM,QAAQ,CAACN,QAAQ,CAAC,EAAE;QAC5D,MAAM,IAAIO,KAAK,CAAC,wEAAwE,CAAC;MACzG;MACY,IAAIP,QAAQ,KAAK,MAAM,IAAI,CAAC,IAAI,CAACC,MAAM,EAAE;QACrC,MAAM,IAAIM,KAAK,CAAC,2EAA2E,CAAC;MAC5G;MACY,IAAI,CAACP,QAAQ,GAAGA,QAAQ;IACpC;EACA;EACI,MAAMQ,OAAOA,CAACC,GAAG,EAAEC,KAAK,EAAE;IACtBC,QAAQ,CAACC,GAAG,CAACH,GAAG,EAAEC,KAAK,EAAE,IAAI,CAACG,OAAO,EAAE,CAAC;EAChD;EACI,MAAMC,OAAOA,CAACL,GAAG,EAAE;IACf,MAAMM,IAAI,GAAGJ,QAAQ,CAACK,GAAG,CAACP,GAAG,CAAC;IAC9B,OAAOM,IAAI,IAAI,IAAI;EAC3B;EACI,MAAME,UAAUA,CAACR,GAAG,EAAE;IAClBE,QAAQ,CAACO,MAAM,CAACT,GAAG,EAAE,IAAI,CAACI,OAAO,EAAE,CAAC;EAC5C;EACI,MAAMM,KAAKA,CAAA,EAAG;IACV,MAAMC,MAAM,GAAGT,QAAQ,CAACK,GAAG,EAAE;IAC7B,MAAMK,QAAQ,GAAGnB,MAAM,CAACoB,IAAI,CAACF,MAAM,CAAC,CAACG,GAAG,CAACd,GAAG,IAAI,IAAI,CAACQ,UAAU,CAACR,GAAG,CAAC,CAAC;IACrE,MAAMe,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;EACnC;EACIR,OAAOA,CAAA,EAAG;IACN,OAAO;MACHhB,IAAI,EAAE,IAAI,CAACA,IAAI;MACfE,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBD,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBG,MAAM,EAAE,IAAI,CAACA,MAAM;MACnB,IAAI,IAAI,CAACD,QAAQ,IAAI;QAAEA,QAAQ,EAAE,IAAI,CAACA;MAAQ,CAAE;IAC5D,CAAS;EACT;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}