{"ast":null,"code":"import { error, doneInvoke } from './actions.js';\nimport { toActorRef } from './Actor.js';\nimport { toObserver } from './utils.js';\n\n/**\r\n * Returns an actor behavior from a reducer and its initial state.\r\n *\r\n * @param transition The pure reducer that returns the next state given the current state and event.\r\n * @param initialState The initial state of the reducer.\r\n * @returns An actor behavior\r\n */\n\nfunction fromReducer(transition, initialState) {\n  return {\n    transition: transition,\n    initialState: initialState\n  };\n}\nfunction fromPromise(promiseFn) {\n  var initialState = {\n    error: undefined,\n    data: undefined,\n    status: 'pending'\n  };\n  return {\n    transition: function (state, event, _a) {\n      var parent = _a.parent,\n        id = _a.id,\n        observers = _a.observers;\n      switch (event.type) {\n        case 'fulfill':\n          parent === null || parent === void 0 ? void 0 : parent.send(doneInvoke(id, event.data));\n          return {\n            error: undefined,\n            data: event.data,\n            status: 'fulfilled'\n          };\n        case 'reject':\n          parent === null || parent === void 0 ? void 0 : parent.send(error(id, event.error));\n          observers.forEach(function (observer) {\n            observer.error(event.error);\n          });\n          return {\n            error: event.error,\n            data: undefined,\n            status: 'rejected'\n          };\n        default:\n          return state;\n      }\n    },\n    initialState: initialState,\n    start: function (_a) {\n      var self = _a.self;\n      promiseFn().then(function (data) {\n        self.send({\n          type: 'fulfill',\n          data: data\n        });\n      }, function (reason) {\n        self.send({\n          type: 'reject',\n          error: reason\n        });\n      });\n      return initialState;\n    }\n  };\n}\nfunction spawnBehavior(behavior, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var state = behavior.initialState;\n  var observers = new Set();\n  var mailbox = [];\n  var flushing = false;\n  var flush = function () {\n    if (flushing) {\n      return;\n    }\n    flushing = true;\n    while (mailbox.length > 0) {\n      var event_1 = mailbox.shift();\n      state = behavior.transition(state, event_1, actorCtx);\n      observers.forEach(function (observer) {\n        return observer.next(state);\n      });\n    }\n    flushing = false;\n  };\n  var actor = toActorRef({\n    id: options.id,\n    send: function (event) {\n      mailbox.push(event);\n      flush();\n    },\n    getSnapshot: function () {\n      return state;\n    },\n    subscribe: function (next, handleError, complete) {\n      var observer = toObserver(next, handleError, complete);\n      observers.add(observer);\n      observer.next(state);\n      return {\n        unsubscribe: function () {\n          observers.delete(observer);\n        }\n      };\n    }\n  });\n  var actorCtx = {\n    parent: options.parent,\n    self: actor,\n    id: options.id || 'anonymous',\n    observers: observers\n  };\n  state = behavior.start ? behavior.start(actorCtx) : state;\n  return actor;\n}\nexport { fromPromise, fromReducer, spawnBehavior };","map":{"version":3,"names":["error","doneInvoke","toActorRef","toObserver","fromReducer","transition","initialState","fromPromise","promiseFn","undefined","data","status","state","event","_a","parent","id","observers","type","send","forEach","observer","start","self","then","reason","spawnBehavior","behavior","options","Set","mailbox","flushing","flush","length","event_1","shift","actorCtx","next","actor","push","getSnapshot","subscribe","handleError","complete","add","unsubscribe","delete"],"sources":["E:/CSC-PROJECT/amplify-react-app/node_modules/xstate/es/behaviors.js"],"sourcesContent":["import { error, doneInvoke } from './actions.js';\nimport { toActorRef } from './Actor.js';\nimport { toObserver } from './utils.js';\n\n/**\r\n * Returns an actor behavior from a reducer and its initial state.\r\n *\r\n * @param transition The pure reducer that returns the next state given the current state and event.\r\n * @param initialState The initial state of the reducer.\r\n * @returns An actor behavior\r\n */\n\nfunction fromReducer(transition, initialState) {\n  return {\n    transition: transition,\n    initialState: initialState\n  };\n}\nfunction fromPromise(promiseFn) {\n  var initialState = {\n    error: undefined,\n    data: undefined,\n    status: 'pending'\n  };\n  return {\n    transition: function (state, event, _a) {\n      var parent = _a.parent,\n          id = _a.id,\n          observers = _a.observers;\n\n      switch (event.type) {\n        case 'fulfill':\n          parent === null || parent === void 0 ? void 0 : parent.send(doneInvoke(id, event.data));\n          return {\n            error: undefined,\n            data: event.data,\n            status: 'fulfilled'\n          };\n\n        case 'reject':\n          parent === null || parent === void 0 ? void 0 : parent.send(error(id, event.error));\n          observers.forEach(function (observer) {\n            observer.error(event.error);\n          });\n          return {\n            error: event.error,\n            data: undefined,\n            status: 'rejected'\n          };\n\n        default:\n          return state;\n      }\n    },\n    initialState: initialState,\n    start: function (_a) {\n      var self = _a.self;\n      promiseFn().then(function (data) {\n        self.send({\n          type: 'fulfill',\n          data: data\n        });\n      }, function (reason) {\n        self.send({\n          type: 'reject',\n          error: reason\n        });\n      });\n      return initialState;\n    }\n  };\n}\nfunction spawnBehavior(behavior, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var state = behavior.initialState;\n  var observers = new Set();\n  var mailbox = [];\n  var flushing = false;\n\n  var flush = function () {\n    if (flushing) {\n      return;\n    }\n\n    flushing = true;\n\n    while (mailbox.length > 0) {\n      var event_1 = mailbox.shift();\n      state = behavior.transition(state, event_1, actorCtx);\n      observers.forEach(function (observer) {\n        return observer.next(state);\n      });\n    }\n\n    flushing = false;\n  };\n\n  var actor = toActorRef({\n    id: options.id,\n    send: function (event) {\n      mailbox.push(event);\n      flush();\n    },\n    getSnapshot: function () {\n      return state;\n    },\n    subscribe: function (next, handleError, complete) {\n      var observer = toObserver(next, handleError, complete);\n      observers.add(observer);\n      observer.next(state);\n      return {\n        unsubscribe: function () {\n          observers.delete(observer);\n        }\n      };\n    }\n  });\n  var actorCtx = {\n    parent: options.parent,\n    self: actor,\n    id: options.id || 'anonymous',\n    observers: observers\n  };\n  state = behavior.start ? behavior.start(actorCtx) : state;\n  return actor;\n}\n\nexport { fromPromise, fromReducer, spawnBehavior };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}