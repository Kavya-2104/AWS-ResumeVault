{"ast":null,"code":"import { Hub } from '@aws-amplify/core';\nimport { AMPLIFY_SYMBOL } from '@aws-amplify/core/internals/utils';\nimport { getCurrentUser } from '../apis/getCurrentUser.mjs';\nimport { USER_UNAUTHENTICATED_EXCEPTION, UNEXPECTED_SIGN_IN_INTERRUPTION_EXCEPTION } from '../../../errors/constants.mjs';\nimport { AuthError } from '../../../errors/AuthError.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst ERROR_MESSAGE = 'Unable to get user session following successful sign-in.';\nconst dispatchSignedInHubEvent = async () => {\n  try {\n    Hub.dispatch('auth', {\n      event: 'signedIn',\n      data: await getCurrentUser()\n    }, 'Auth', AMPLIFY_SYMBOL);\n  } catch (error) {\n    if (error.name === USER_UNAUTHENTICATED_EXCEPTION) {\n      throw new AuthError({\n        name: UNEXPECTED_SIGN_IN_INTERRUPTION_EXCEPTION,\n        message: ERROR_MESSAGE,\n        recoverySuggestion: 'This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server.'\n      });\n    }\n    throw error;\n  }\n};\nexport { ERROR_MESSAGE, dispatchSignedInHubEvent };","map":{"version":3,"names":["ERROR_MESSAGE","dispatchSignedInHubEvent","Hub","dispatch","event","data","getCurrentUser","AMPLIFY_SYMBOL","error","name","USER_UNAUTHENTICATED_EXCEPTION","AuthError","UNEXPECTED_SIGN_IN_INTERRUPTION_EXCEPTION","message","recoverySuggestion"],"sources":["E:\\CSC-PROJECT\\amplify-react-app\\node_modules\\@aws-amplify\\auth\\src\\providers\\cognito\\utils\\dispatchSignedInHubEvent.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { Hub } from '@aws-amplify/core';\nimport { AMPLIFY_SYMBOL } from '@aws-amplify/core/internals/utils';\nimport { getCurrentUser } from '../apis/getCurrentUser';\nimport { UNEXPECTED_SIGN_IN_INTERRUPTION_EXCEPTION, USER_UNAUTHENTICATED_EXCEPTION, } from '../../../errors/constants';\nimport { AuthError } from '../../../errors/AuthError';\nexport const ERROR_MESSAGE = 'Unable to get user session following successful sign-in.';\nexport const dispatchSignedInHubEvent = async () => {\n    try {\n        Hub.dispatch('auth', {\n            event: 'signedIn',\n            data: await getCurrentUser(),\n        }, 'Auth', AMPLIFY_SYMBOL);\n    }\n    catch (error) {\n        if (error.name === USER_UNAUTHENTICATED_EXCEPTION) {\n            throw new AuthError({\n                name: UNEXPECTED_SIGN_IN_INTERRUPTION_EXCEPTION,\n                message: ERROR_MESSAGE,\n                recoverySuggestion: 'This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server.',\n            });\n        }\n        throw error;\n    }\n};\n"],"mappings":";;;;;;AAAA;AACA;AAMY,MAACA,aAAa,GAAG;AACjB,MAACC,wBAAwB,GAAG,MAAAA,CAAA,KAAY;EAChD,IAAI;IACAC,GAAG,CAACC,QAAQ,CAAC,MAAM,EAAE;MACjBC,KAAK,EAAE,UAAU;MACjBC,IAAI,EAAE,MAAMC,cAAc;IACtC,CAAS,EAAE,MAAM,EAAEC,cAAc,CAAC;EAClC,CAAK,CACD,OAAOC,KAAK,EAAE;IACV,IAAIA,KAAK,CAACC,IAAI,KAAKC,8BAA8B,EAAE;MAC/C,MAAM,IAAIC,SAAS,CAAC;QAChBF,IAAI,EAAEG,yCAAyC;QAC/CC,OAAO,EAAEb,aAAa;QACtBc,kBAAkB,EAAE;MACpC,CAAa,CAAC;IACd;IACQ,MAAMN,KAAK;EACnB;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}