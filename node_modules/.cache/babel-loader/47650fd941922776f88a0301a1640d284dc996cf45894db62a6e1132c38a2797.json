{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst composeServiceApi = (transferHandler, serializer, deserializer, defaultConfig) => {\n  return async (config, input) => {\n    const resolvedConfig = {\n      ...defaultConfig,\n      ...config\n    };\n    // We may want to allow different endpoints from given config(other than region) and input.\n    // Currently S3 supports additional `useAccelerateEndpoint` option to use accelerate endpoint.\n    const endpoint = await resolvedConfig.endpointResolver(resolvedConfig, input);\n    // Unlike AWS SDK clients, a serializer should NOT populate the `host` or `content-length` headers.\n    // Both of these headers are prohibited per Spec(https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name).\n    // They will be populated automatically by browser, or node-fetch polyfill.\n    const request = await serializer(input, endpoint);\n    const response = await transferHandler(request, {\n      ...resolvedConfig\n    });\n    return await deserializer(response);\n  };\n};\nexport { composeServiceApi };","map":{"version":3,"names":["composeServiceApi","transferHandler","serializer","deserializer","defaultConfig","config","input","resolvedConfig","endpoint","endpointResolver","request","response"],"sources":["E:\\CSC-PROJECT\\amplify-react-app\\node_modules\\@aws-amplify\\core\\src\\clients\\internal\\composeServiceApi.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nexport const composeServiceApi = (transferHandler, serializer, deserializer, defaultConfig) => {\n    return async (config, input) => {\n        const resolvedConfig = {\n            ...defaultConfig,\n            ...config,\n        };\n        // We may want to allow different endpoints from given config(other than region) and input.\n        // Currently S3 supports additional `useAccelerateEndpoint` option to use accelerate endpoint.\n        const endpoint = await resolvedConfig.endpointResolver(resolvedConfig, input);\n        // Unlike AWS SDK clients, a serializer should NOT populate the `host` or `content-length` headers.\n        // Both of these headers are prohibited per Spec(https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name).\n        // They will be populated automatically by browser, or node-fetch polyfill.\n        const request = await serializer(input, endpoint);\n        const response = await transferHandler(request, {\n            ...resolvedConfig,\n        });\n        return await deserializer(response);\n    };\n};\n"],"mappings":"AAAA;AACA;AACY,MAACA,iBAAiB,GAAGA,CAACC,eAAe,EAAEC,UAAU,EAAEC,YAAY,EAAEC,aAAa,KAAK;EAC3F,OAAO,OAAOC,MAAM,EAAEC,KAAK,KAAK;IAC5B,MAAMC,cAAc,GAAG;MACnB,GAAGH,aAAa;MAChB,GAAGC;IACf,CAAS;IACT;IACA;IACQ,MAAMG,QAAQ,GAAG,MAAMD,cAAc,CAACE,gBAAgB,CAACF,cAAc,EAAED,KAAK,CAAC;IACrF;IACA;IACA;IACQ,MAAMI,OAAO,GAAG,MAAMR,UAAU,CAACI,KAAK,EAAEE,QAAQ,CAAC;IACjD,MAAMG,QAAQ,GAAG,MAAMV,eAAe,CAACS,OAAO,EAAE;MAC5C,GAAGH;IACf,CAAS,CAAC;IACF,OAAO,MAAMJ,YAAY,CAACQ,QAAQ,CAAC;EAC3C,CAAK;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}