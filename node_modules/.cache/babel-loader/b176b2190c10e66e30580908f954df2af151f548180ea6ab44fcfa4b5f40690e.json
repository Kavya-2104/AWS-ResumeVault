{"ast":null,"code":"import { AuthClass } from './Auth/index.mjs';\nimport { Hub, AMPLIFY_SYMBOL } from '../Hub/index.mjs';\nimport { parseAWSExports } from '../parseAWSExports.mjs';\nimport '../utils/getClientInfo/getClientInfo.mjs';\nimport '../utils/retry/retry.mjs';\nimport { deepFreeze } from '../utils/deepFreeze.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nclass AmplifyClass {\n  constructor() {\n    this.resourcesConfig = {};\n    this.libraryOptions = {};\n    this.Auth = new AuthClass();\n  }\n  /**\n   * Configures Amplify for use with your back-end resources.\n   *\n   * @remarks\n   * This API does not perform any merging of either `resourcesConfig` or `libraryOptions`. The most recently\n   * provided values will be used after configuration.\n   *\n   * @remarks\n   * `configure` can be used to specify additional library options where available for supported categories.\n   *\n   * @param resourceConfig - Back-end resource configuration. Typically provided via the `aws-exports.js` file.\n   * @param libraryOptions - Additional options for customizing the behavior of the library.\n   */\n  configure(resourcesConfig, libraryOptions) {\n    let resolvedResourceConfig;\n    if (Object.keys(resourcesConfig).some(key => key.startsWith('aws_'))) {\n      resolvedResourceConfig = parseAWSExports(resourcesConfig);\n    } else {\n      resolvedResourceConfig = resourcesConfig;\n    }\n    this.resourcesConfig = resolvedResourceConfig;\n    if (libraryOptions) {\n      this.libraryOptions = libraryOptions;\n    }\n    // Make resource config immutable\n    this.resourcesConfig = deepFreeze(this.resourcesConfig);\n    this.Auth.configure(this.resourcesConfig.Auth, this.libraryOptions.Auth);\n    Hub.dispatch('core', {\n      event: 'configure',\n      data: resourcesConfig\n    }, 'Configure', AMPLIFY_SYMBOL);\n  }\n  /**\n   * Provides access to the current back-end resource configuration for the Library.\n   *\n   * @returns Returns the immutable back-end resource configuration.\n   */\n  getConfig() {\n    return this.resourcesConfig;\n  }\n}\n/**\n * The `Amplify` utility is used to configure the library.\n *\n * @remarks\n * `Amplify` is responsible for orchestrating cross-category communication within the library.\n */\nconst Amplify = new AmplifyClass();\nexport { Amplify, AmplifyClass };","map":{"version":3,"names":["AmplifyClass","constructor","resourcesConfig","libraryOptions","Auth","AuthClass","configure","resolvedResourceConfig","Object","keys","some","key","startsWith","parseAWSExports","deepFreeze","Hub","dispatch","event","data","AMPLIFY_SYMBOL","getConfig","Amplify"],"sources":["E:\\CSC-PROJECT\\amplify-react-app\\node_modules\\@aws-amplify\\core\\src\\singleton\\Amplify.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { AuthClass } from './Auth';\nimport { Hub, AMPLIFY_SYMBOL } from '../Hub';\nimport { parseAWSExports } from '../parseAWSExports';\nimport { deepFreeze } from '../utils';\nexport class AmplifyClass {\n    constructor() {\n        this.resourcesConfig = {};\n        this.libraryOptions = {};\n        this.Auth = new AuthClass();\n    }\n    /**\n     * Configures Amplify for use with your back-end resources.\n     *\n     * @remarks\n     * This API does not perform any merging of either `resourcesConfig` or `libraryOptions`. The most recently\n     * provided values will be used after configuration.\n     *\n     * @remarks\n     * `configure` can be used to specify additional library options where available for supported categories.\n     *\n     * @param resourceConfig - Back-end resource configuration. Typically provided via the `aws-exports.js` file.\n     * @param libraryOptions - Additional options for customizing the behavior of the library.\n     */\n    configure(resourcesConfig, libraryOptions) {\n        let resolvedResourceConfig;\n        if (Object.keys(resourcesConfig).some(key => key.startsWith('aws_'))) {\n            resolvedResourceConfig = parseAWSExports(resourcesConfig);\n        }\n        else {\n            resolvedResourceConfig = resourcesConfig;\n        }\n        this.resourcesConfig = resolvedResourceConfig;\n        if (libraryOptions) {\n            this.libraryOptions = libraryOptions;\n        }\n        // Make resource config immutable\n        this.resourcesConfig = deepFreeze(this.resourcesConfig);\n        this.Auth.configure(this.resourcesConfig.Auth, this.libraryOptions.Auth);\n        Hub.dispatch('core', {\n            event: 'configure',\n            data: resourcesConfig,\n        }, 'Configure', AMPLIFY_SYMBOL);\n    }\n    /**\n     * Provides access to the current back-end resource configuration for the Library.\n     *\n     * @returns Returns the immutable back-end resource configuration.\n     */\n    getConfig() {\n        return this.resourcesConfig;\n    }\n}\n/**\n * The `Amplify` utility is used to configure the library.\n *\n * @remarks\n * `Amplify` is responsible for orchestrating cross-category communication within the library.\n */\nexport const Amplify = new AmplifyClass();\n"],"mappings":";;;;;;;AAAA;AACA;AAKO,MAAMA,YAAY,CAAC;EACtBC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,eAAe,GAAG,EAAE;IACzB,IAAI,CAACC,cAAc,GAAG,EAAE;IACxB,IAAI,CAACC,IAAI,GAAG,IAAIC,SAAS,EAAE;EACnC;EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIC,SAASA,CAACJ,eAAe,EAAEC,cAAc,EAAE;IACvC,IAAII,sBAAsB;IAC1B,IAAIC,MAAM,CAACC,IAAI,CAACP,eAAe,CAAC,CAACQ,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,UAAU,CAAC,MAAM,CAAC,CAAC,EAAE;MAClEL,sBAAsB,GAAGM,eAAe,CAACX,eAAe,CAAC;IACrE,CAAS,MACI;MACDK,sBAAsB,GAAGL,eAAe;IACpD;IACQ,IAAI,CAACA,eAAe,GAAGK,sBAAsB;IAC7C,IAAIJ,cAAc,EAAE;MAChB,IAAI,CAACA,cAAc,GAAGA,cAAc;IAChD;IACA;IACQ,IAAI,CAACD,eAAe,GAAGY,UAAU,CAAC,IAAI,CAACZ,eAAe,CAAC;IACvD,IAAI,CAACE,IAAI,CAACE,SAAS,CAAC,IAAI,CAACJ,eAAe,CAACE,IAAI,EAAE,IAAI,CAACD,cAAc,CAACC,IAAI,CAAC;IACxEW,GAAG,CAACC,QAAQ,CAAC,MAAM,EAAE;MACjBC,KAAK,EAAE,WAAW;MAClBC,IAAI,EAAEhB;IAClB,CAAS,EAAE,WAAW,EAAEiB,cAAc,CAAC;EACvC;EACA;AACA;AACA;AACA;AACA;EACIC,SAASA,CAAA,EAAG;IACR,OAAO,IAAI,CAAClB,eAAe;EACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAACmB,OAAO,GAAG,IAAIrB,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}