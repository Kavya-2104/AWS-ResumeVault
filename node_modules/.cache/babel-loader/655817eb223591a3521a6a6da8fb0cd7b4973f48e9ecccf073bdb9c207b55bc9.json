{"ast":null,"code":"import { DEFAULT_PART_SIZE, MAX_PARTS_COUNT } from '../../../utils/constants.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst calculatePartSize = totalSize => {\n  if (!totalSize) {\n    return DEFAULT_PART_SIZE;\n  }\n  let partSize = DEFAULT_PART_SIZE;\n  let partsCount = Math.ceil(totalSize / partSize);\n  while (partsCount > MAX_PARTS_COUNT) {\n    partSize *= 2;\n    partsCount = Math.ceil(totalSize / partSize);\n  }\n  return partSize;\n};\nexport { calculatePartSize };","map":{"version":3,"names":["calculatePartSize","totalSize","DEFAULT_PART_SIZE","partSize","partsCount","Math","ceil","MAX_PARTS_COUNT"],"sources":["E:\\CSC-PROJECT\\amplify-react-app\\node_modules\\@aws-amplify\\storage\\src\\providers\\s3\\apis\\uploadData\\multipart\\calculatePartSize.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { DEFAULT_PART_SIZE, MAX_PARTS_COUNT } from '../../../utils/constants';\nexport const calculatePartSize = (totalSize) => {\n    if (!totalSize) {\n        return DEFAULT_PART_SIZE;\n    }\n    let partSize = DEFAULT_PART_SIZE;\n    let partsCount = Math.ceil(totalSize / partSize);\n    while (partsCount > MAX_PARTS_COUNT) {\n        partSize *= 2;\n        partsCount = Math.ceil(totalSize / partSize);\n    }\n    return partSize;\n};\n"],"mappings":";;AAAA;AACA;AAEY,MAACA,iBAAiB,GAAIC,SAAS,IAAK;EAC5C,IAAI,CAACA,SAAS,EAAE;IACZ,OAAOC,iBAAiB;EAChC;EACI,IAAIC,QAAQ,GAAGD,iBAAiB;EAChC,IAAIE,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACL,SAAS,GAAGE,QAAQ,CAAC;EAChD,OAAOC,UAAU,GAAGG,eAAe,EAAE;IACjCJ,QAAQ,IAAI,CAAC;IACbC,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACL,SAAS,GAAGE,QAAQ,CAAC;EACpD;EACI,OAAOA,QAAQ;AACnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}