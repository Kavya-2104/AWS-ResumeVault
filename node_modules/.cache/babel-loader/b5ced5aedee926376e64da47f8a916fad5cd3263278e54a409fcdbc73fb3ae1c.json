{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Calculate the total size of the data to be uploaded. The total size is not required for multipart upload, as it's\n * only used in progress report.\n */\nconst byteLength = input => {\n  if (input === null || input === undefined) return 0;\n  if (typeof input === 'string') {\n    let len = input.length;\n    for (let i = len - 1; i >= 0; i--) {\n      const code = input.charCodeAt(i);\n      if (code > 0x7f && code <= 0x7ff) len++;else if (code > 0x7ff && code <= 0xffff) len += 2;\n      if (code >= 0xdc00 && code <= 0xdfff) i--; // trail surrogate\n    }\n    return len;\n  } else if (typeof input.byteLength === 'number') {\n    // handles Uint8Array, ArrayBuffer, Buffer, and ArrayBufferView\n    return input.byteLength;\n  } else if (typeof input.size === 'number') {\n    // handles browser File object\n    return input.size;\n  }\n  // TODO: support Node.js stream size when Node.js runtime is supported out-of-box.\n  return undefined;\n};\nexport { byteLength };","map":{"version":3,"names":["byteLength","input","undefined","len","length","i","code","charCodeAt","size"],"sources":["E:\\CSC-PROJECT\\amplify-react-app\\node_modules\\@aws-amplify\\storage\\src\\providers\\s3\\apis\\uploadData\\byteLength.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Calculate the total size of the data to be uploaded. The total size is not required for multipart upload, as it's\n * only used in progress report.\n */\nexport const byteLength = (input) => {\n    if (input === null || input === undefined)\n        return 0;\n    if (typeof input === 'string') {\n        let len = input.length;\n        for (let i = len - 1; i >= 0; i--) {\n            const code = input.charCodeAt(i);\n            if (code > 0x7f && code <= 0x7ff)\n                len++;\n            else if (code > 0x7ff && code <= 0xffff)\n                len += 2;\n            if (code >= 0xdc00 && code <= 0xdfff)\n                i--; // trail surrogate\n        }\n        return len;\n    }\n    else if (typeof input.byteLength === 'number') {\n        // handles Uint8Array, ArrayBuffer, Buffer, and ArrayBufferView\n        return input.byteLength;\n    }\n    else if (typeof input.size === 'number') {\n        // handles browser File object\n        return input.size;\n    }\n    // TODO: support Node.js stream size when Node.js runtime is supported out-of-box.\n    return undefined;\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACY,MAACA,UAAU,GAAIC,KAAK,IAAK;EACjC,IAAIA,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAKC,SAAS,EACrC,OAAO,CAAC;EACZ,IAAI,OAAOD,KAAK,KAAK,QAAQ,EAAE;IAC3B,IAAIE,GAAG,GAAGF,KAAK,CAACG,MAAM;IACtB,KAAK,IAAIC,CAAC,GAAGF,GAAG,GAAG,CAAC,EAAEE,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;MAC/B,MAAMC,IAAI,GAAGL,KAAK,CAACM,UAAU,CAACF,CAAC,CAAC;MAChC,IAAIC,IAAI,GAAG,IAAI,IAAIA,IAAI,IAAI,KAAK,EAC5BH,GAAG,EAAE,CAAC,KACL,IAAIG,IAAI,GAAG,KAAK,IAAIA,IAAI,IAAI,MAAM,EACnCH,GAAG,IAAI,CAAC;MACZ,IAAIG,IAAI,IAAI,MAAM,IAAIA,IAAI,IAAI,MAAM,EAChCD,CAAC,EAAE,CAAC;IACpB;IACQ,OAAOF,GAAG;EAClB,CAAK,MACI,IAAI,OAAOF,KAAK,CAACD,UAAU,KAAK,QAAQ,EAAE;IACnD;IACQ,OAAOC,KAAK,CAACD,UAAU;EAC/B,CAAK,MACI,IAAI,OAAOC,KAAK,CAACO,IAAI,KAAK,QAAQ,EAAE;IAC7C;IACQ,OAAOP,KAAK,CAACO,IAAI;EACzB;EACA;EACI,OAAON,SAAS;AACpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}