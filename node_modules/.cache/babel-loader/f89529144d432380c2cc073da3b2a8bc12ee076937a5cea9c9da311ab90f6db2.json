{"ast":null,"code":"import { Hub } from 'aws-amplify/utils';\nimport '@aws-amplify/core/internals/utils';\nimport '../../utils/setUserAgent/constants.mjs';\nimport { isFunction } from '../../utils/utils.mjs';\n\n/**\n * Handles Amplify JS Auth hub events, by forwarding hub events as appropriate\n * xstate events.\n */\nconst defaultAuthHubHandler = ({\n  payload\n}, service, options) => {\n  const {\n    event\n  } = payload;\n  const {\n    send\n  } = service;\n  const {\n    onSignIn,\n    onSignOut\n  } = options ?? {};\n  switch (event) {\n    case 'signedIn':\n      {\n        if (isFunction(onSignIn)) {\n          onSignIn(payload);\n        }\n        break;\n      }\n    case 'signInWithRedirect':\n      {\n        send('SIGN_IN_WITH_REDIRECT');\n        break;\n      }\n    case 'signedOut':\n    case 'tokenRefresh_failure':\n      {\n        if (event === 'signedOut' && isFunction(onSignOut)) {\n          onSignOut();\n        }\n        send('SIGN_OUT');\n        break;\n      }\n  }\n};\n/**\n * Listens to external auth Hub events and sends corresponding event to\n * the `service.send` of interest\n *\n * @param service - contains state machine `send` function\n * @param handler - auth event handler\n * @returns function that unsubscribes to the hub evenmt\n */\nconst listenToAuthHub = (service, handler = defaultAuthHubHandler) => {\n  const eventHandler = data => handler(data, service);\n  return Hub.listen('auth', eventHandler, 'authenticator-hub-handler');\n};\nexport { defaultAuthHubHandler, listenToAuthHub };","map":{"version":3,"names":["Hub","isFunction","defaultAuthHubHandler","payload","service","options","event","send","onSignIn","onSignOut","listenToAuthHub","handler","eventHandler","data","listen"],"sources":["E:/CSC-PROJECT/amplify-react-app/node_modules/@aws-amplify/ui/dist/esm/helpers/authenticator/defaultAuthHubHandler.mjs"],"sourcesContent":["import { Hub } from 'aws-amplify/utils';\nimport '@aws-amplify/core/internals/utils';\nimport '../../utils/setUserAgent/constants.mjs';\nimport { isFunction } from '../../utils/utils.mjs';\n\n/**\n * Handles Amplify JS Auth hub events, by forwarding hub events as appropriate\n * xstate events.\n */\nconst defaultAuthHubHandler = ({ payload }, service, options) => {\n    const { event } = payload;\n    const { send } = service;\n    const { onSignIn, onSignOut } = options ?? {};\n    switch (event) {\n        case 'signedIn': {\n            if (isFunction(onSignIn)) {\n                onSignIn(payload);\n            }\n            break;\n        }\n        case 'signInWithRedirect': {\n            send('SIGN_IN_WITH_REDIRECT');\n            break;\n        }\n        case 'signedOut':\n        case 'tokenRefresh_failure': {\n            if (event === 'signedOut' && isFunction(onSignOut)) {\n                onSignOut();\n            }\n            send('SIGN_OUT');\n            break;\n        }\n    }\n};\n/**\n * Listens to external auth Hub events and sends corresponding event to\n * the `service.send` of interest\n *\n * @param service - contains state machine `send` function\n * @param handler - auth event handler\n * @returns function that unsubscribes to the hub evenmt\n */\nconst listenToAuthHub = (service, handler = defaultAuthHubHandler) => {\n    const eventHandler = (data) => handler(data, service);\n    return Hub.listen('auth', eventHandler, 'authenticator-hub-handler');\n};\n\nexport { defaultAuthHubHandler, listenToAuthHub };\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,mBAAmB;AACvC,OAAO,mCAAmC;AAC1C,OAAO,wCAAwC;AAC/C,SAASC,UAAU,QAAQ,uBAAuB;;AAElD;AACA;AACA;AACA;AACA,MAAMC,qBAAqB,GAAGA,CAAC;EAAEC;AAAQ,CAAC,EAAEC,OAAO,EAAEC,OAAO,KAAK;EAC7D,MAAM;IAAEC;EAAM,CAAC,GAAGH,OAAO;EACzB,MAAM;IAAEI;EAAK,CAAC,GAAGH,OAAO;EACxB,MAAM;IAAEI,QAAQ;IAAEC;EAAU,CAAC,GAAGJ,OAAO,IAAI,CAAC,CAAC;EAC7C,QAAQC,KAAK;IACT,KAAK,UAAU;MAAE;QACb,IAAIL,UAAU,CAACO,QAAQ,CAAC,EAAE;UACtBA,QAAQ,CAACL,OAAO,CAAC;QACrB;QACA;MACJ;IACA,KAAK,oBAAoB;MAAE;QACvBI,IAAI,CAAC,uBAAuB,CAAC;QAC7B;MACJ;IACA,KAAK,WAAW;IAChB,KAAK,sBAAsB;MAAE;QACzB,IAAID,KAAK,KAAK,WAAW,IAAIL,UAAU,CAACQ,SAAS,CAAC,EAAE;UAChDA,SAAS,CAAC,CAAC;QACf;QACAF,IAAI,CAAC,UAAU,CAAC;QAChB;MACJ;EACJ;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMG,eAAe,GAAGA,CAACN,OAAO,EAAEO,OAAO,GAAGT,qBAAqB,KAAK;EAClE,MAAMU,YAAY,GAAIC,IAAI,IAAKF,OAAO,CAACE,IAAI,EAAET,OAAO,CAAC;EACrD,OAAOJ,GAAG,CAACc,MAAM,CAAC,MAAM,EAAEF,YAAY,EAAE,2BAA2B,CAAC;AACxE,CAAC;AAED,SAASV,qBAAqB,EAAEQ,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}