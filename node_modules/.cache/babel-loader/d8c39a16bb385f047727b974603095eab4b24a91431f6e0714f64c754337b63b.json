{"ast":null,"code":"import { __values, __spreadArray, __read, __assign } from './_virtual/_tslib.js';\nimport { SpecialTargets } from './types.js';\nimport { raise, send } from './actionTypes.js';\nimport { DEFAULT_GUARD_TYPE, TARGETLESS_KEY, STATE_DELIMITER } from './constants.js';\nimport { IS_PRODUCTION } from './environment.js';\nvar _a;\nfunction keys(value) {\n  return Object.keys(value);\n}\nfunction matchesState(parentStateId, childStateId, delimiter) {\n  if (delimiter === void 0) {\n    delimiter = STATE_DELIMITER;\n  }\n  var parentStateValue = toStateValue(parentStateId, delimiter);\n  var childStateValue = toStateValue(childStateId, delimiter);\n  if (isString(childStateValue)) {\n    if (isString(parentStateValue)) {\n      return childStateValue === parentStateValue;\n    } // Parent more specific than child\n\n    return false;\n  }\n  if (isString(parentStateValue)) {\n    return parentStateValue in childStateValue;\n  }\n  return Object.keys(parentStateValue).every(function (key) {\n    if (!(key in childStateValue)) {\n      return false;\n    }\n    return matchesState(parentStateValue[key], childStateValue[key]);\n  });\n}\nfunction getEventType(event) {\n  try {\n    return isString(event) || typeof event === 'number' ? \"\".concat(event) : event.type;\n  } catch (e) {\n    throw new Error('Events must be strings or objects with a string event.type property.');\n  }\n}\nfunction getActionType(action) {\n  try {\n    return isString(action) || typeof action === 'number' ? \"\".concat(action) : isFunction(action) ? action.name : action.type;\n  } catch (e) {\n    throw new Error('Actions must be strings or objects with a string action.type property.');\n  }\n}\nfunction toStatePath(stateId, delimiter) {\n  try {\n    if (isArray(stateId)) {\n      return stateId;\n    }\n    return stateId.toString().split(delimiter);\n  } catch (e) {\n    throw new Error(\"'\".concat(stateId, \"' is not a valid state path.\"));\n  }\n}\nfunction isStateLike(state) {\n  return typeof state === 'object' && 'value' in state && 'context' in state && 'event' in state && '_event' in state;\n}\nfunction toStateValue(stateValue, delimiter) {\n  if (isStateLike(stateValue)) {\n    return stateValue.value;\n  }\n  if (isArray(stateValue)) {\n    return pathToStateValue(stateValue);\n  }\n  if (typeof stateValue !== 'string') {\n    return stateValue;\n  }\n  var statePath = toStatePath(stateValue, delimiter);\n  return pathToStateValue(statePath);\n}\nfunction pathToStateValue(statePath) {\n  if (statePath.length === 1) {\n    return statePath[0];\n  }\n  var value = {};\n  var marker = value;\n  for (var i = 0; i < statePath.length - 1; i++) {\n    if (i === statePath.length - 2) {\n      marker[statePath[i]] = statePath[i + 1];\n    } else {\n      marker[statePath[i]] = {};\n      marker = marker[statePath[i]];\n    }\n  }\n  return value;\n}\nfunction mapValues(collection, iteratee) {\n  var result = {};\n  var collectionKeys = Object.keys(collection);\n  for (var i = 0; i < collectionKeys.length; i++) {\n    var key = collectionKeys[i];\n    result[key] = iteratee(collection[key], key, collection, i);\n  }\n  return result;\n}\nfunction mapFilterValues(collection, iteratee, predicate) {\n  var e_1, _a;\n  var result = {};\n  try {\n    for (var _b = __values(Object.keys(collection)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var item = collection[key];\n      if (!predicate(item)) {\n        continue;\n      }\n      result[key] = iteratee(item, key, collection);\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n  return result;\n}\n/**\r\n * Retrieves a value at the given path.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nvar path = function (props) {\n  return function (object) {\n    var e_2, _a;\n    var result = object;\n    try {\n      for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n        var prop = props_1_1.value;\n        result = result[prop];\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n    return result;\n  };\n};\n/**\r\n * Retrieves a value at the given path via the nested accessor prop.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nfunction nestedPath(props, accessorProp) {\n  return function (object) {\n    var e_3, _a;\n    var result = object;\n    try {\n      for (var props_2 = __values(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()) {\n        var prop = props_2_1.value;\n        result = result[accessorProp][prop];\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (props_2_1 && !props_2_1.done && (_a = props_2.return)) _a.call(props_2);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n    return result;\n  };\n}\nfunction toStatePaths(stateValue) {\n  if (!stateValue) {\n    return [[]];\n  }\n  if (isString(stateValue)) {\n    return [[stateValue]];\n  }\n  var result = flatten(Object.keys(stateValue).map(function (key) {\n    var subStateValue = stateValue[key];\n    if (typeof subStateValue !== 'string' && (!subStateValue || !Object.keys(subStateValue).length)) {\n      return [[key]];\n    }\n    return toStatePaths(stateValue[key]).map(function (subPath) {\n      return [key].concat(subPath);\n    });\n  }));\n  return result;\n}\nfunction pathsToStateValue(paths) {\n  var e_4, _a;\n  var result = {};\n  if (paths && paths.length === 1 && paths[0].length === 1) {\n    return paths[0][0];\n  }\n  try {\n    for (var paths_1 = __values(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {\n      var currentPath = paths_1_1.value;\n      var marker = result; // tslint:disable-next-line:prefer-for-of\n\n      for (var i = 0; i < currentPath.length; i++) {\n        var subPath = currentPath[i];\n        if (i === currentPath.length - 2) {\n          marker[subPath] = currentPath[i + 1];\n          break;\n        }\n        marker[subPath] = marker[subPath] || {};\n        marker = marker[subPath];\n      }\n    }\n  } catch (e_4_1) {\n    e_4 = {\n      error: e_4_1\n    };\n  } finally {\n    try {\n      if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n    } finally {\n      if (e_4) throw e_4.error;\n    }\n  }\n  return result;\n}\nfunction flatten(array) {\n  var _a;\n  return (_a = []).concat.apply(_a, __spreadArray([], __read(array), false));\n}\nfunction toArrayStrict(value) {\n  if (isArray(value)) {\n    return value;\n  }\n  return [value];\n}\nfunction toArray(value) {\n  if (value === undefined) {\n    return [];\n  }\n  return toArrayStrict(value);\n}\nfunction mapContext(mapper, context, _event) {\n  var e_5, _a;\n  if (isFunction(mapper)) {\n    return mapper(context, _event.data);\n  }\n  var result = {};\n  try {\n    for (var _b = __values(Object.keys(mapper)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var subMapper = mapper[key];\n      if (isFunction(subMapper)) {\n        result[key] = subMapper(context, _event.data);\n      } else {\n        result[key] = subMapper;\n      }\n    }\n  } catch (e_5_1) {\n    e_5 = {\n      error: e_5_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_5) throw e_5.error;\n    }\n  }\n  return result;\n}\nfunction isBuiltInEvent(eventType) {\n  return /^(done|error)\\./.test(eventType);\n}\nfunction isPromiseLike(value) {\n  if (value instanceof Promise) {\n    return true;\n  } // Check if shape matches the Promise/A+ specification for a \"thenable\".\n\n  if (value !== null && (isFunction(value) || typeof value === 'object') && isFunction(value.then)) {\n    return true;\n  }\n  return false;\n}\nfunction isBehavior(value) {\n  return value !== null && typeof value === 'object' && 'transition' in value && typeof value.transition === 'function';\n}\nfunction partition(items, predicate) {\n  var e_6, _a;\n  var _b = __read([[], []], 2),\n    truthy = _b[0],\n    falsy = _b[1];\n  try {\n    for (var items_1 = __values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n      var item = items_1_1.value;\n      if (predicate(item)) {\n        truthy.push(item);\n      } else {\n        falsy.push(item);\n      }\n    }\n  } catch (e_6_1) {\n    e_6 = {\n      error: e_6_1\n    };\n  } finally {\n    try {\n      if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n    } finally {\n      if (e_6) throw e_6.error;\n    }\n  }\n  return [truthy, falsy];\n}\nfunction updateHistoryStates(hist, stateValue) {\n  return mapValues(hist.states, function (subHist, key) {\n    if (!subHist) {\n      return undefined;\n    }\n    var subStateValue = (isString(stateValue) ? undefined : stateValue[key]) || (subHist ? subHist.current : undefined);\n    if (!subStateValue) {\n      return undefined;\n    }\n    return {\n      current: subStateValue,\n      states: updateHistoryStates(subHist, subStateValue)\n    };\n  });\n}\nfunction updateHistoryValue(hist, stateValue) {\n  return {\n    current: stateValue,\n    states: updateHistoryStates(hist, stateValue)\n  };\n}\nfunction updateContext(context, _event, assignActions, state) {\n  if (!IS_PRODUCTION) {\n    warn(!!context, 'Attempting to update undefined context');\n  }\n  var updatedContext = context ? assignActions.reduce(function (acc, assignAction) {\n    var e_7, _a;\n    var assignment = assignAction.assignment;\n    var meta = {\n      state: state,\n      action: assignAction,\n      _event: _event\n    };\n    var partialUpdate = {};\n    if (isFunction(assignment)) {\n      partialUpdate = assignment(acc, _event.data, meta);\n    } else {\n      try {\n        for (var _b = __values(Object.keys(assignment)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var key = _c.value;\n          var propAssignment = assignment[key];\n          partialUpdate[key] = isFunction(propAssignment) ? propAssignment(acc, _event.data, meta) : propAssignment;\n        }\n      } catch (e_7_1) {\n        e_7 = {\n          error: e_7_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_7) throw e_7.error;\n        }\n      }\n    }\n    return Object.assign({}, acc, partialUpdate);\n  }, context) : context;\n  return updatedContext;\n} // tslint:disable-next-line:no-empty\n\nvar warn = function () {};\nif (!IS_PRODUCTION) {\n  warn = function (condition, message) {\n    var error = condition instanceof Error ? condition : undefined;\n    if (!error && condition) {\n      return;\n    }\n    if (console !== undefined) {\n      var args = [\"Warning: \".concat(message)];\n      if (error) {\n        args.push(error);\n      } // tslint:disable-next-line:no-console\n\n      console.warn.apply(console, args);\n    }\n  };\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n} // tslint:disable-next-line:ban-types\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction toGuard(condition, guardMap) {\n  if (!condition) {\n    return undefined;\n  }\n  if (isString(condition)) {\n    return {\n      type: DEFAULT_GUARD_TYPE,\n      name: condition,\n      predicate: guardMap ? guardMap[condition] : undefined\n    };\n  }\n  if (isFunction(condition)) {\n    return {\n      type: DEFAULT_GUARD_TYPE,\n      name: condition.name,\n      predicate: condition\n    };\n  }\n  return condition;\n}\nfunction isObservable(value) {\n  try {\n    return 'subscribe' in value && isFunction(value.subscribe);\n  } catch (e) {\n    return false;\n  }\n}\nvar symbolObservable = /*#__PURE__*/function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}(); // TODO: to be removed in v5, left it out just to minimize the scope of the change and maintain compatibility with older versions of integration paackages\n\nvar interopSymbols = (_a = {}, _a[symbolObservable] = function () {\n  return this;\n}, _a[Symbol.observable] = function () {\n  return this;\n}, _a);\nfunction isMachine(value) {\n  return !!value && '__xstatenode' in value;\n}\nfunction isActor(value) {\n  return !!value && typeof value.send === 'function';\n}\nvar uniqueId = /*#__PURE__*/function () {\n  var currentId = 0;\n  return function () {\n    currentId++;\n    return currentId.toString(16);\n  };\n}();\nfunction toEventObject(event, payload // id?: TEvent['type']\n) {\n  if (isString(event) || typeof event === 'number') {\n    return __assign({\n      type: event\n    }, payload);\n  }\n  return event;\n}\nfunction toSCXMLEvent(event, scxmlEvent) {\n  if (!isString(event) && '$$type' in event && event.$$type === 'scxml') {\n    return event;\n  }\n  var eventObject = toEventObject(event);\n  return __assign({\n    name: eventObject.type,\n    data: eventObject,\n    $$type: 'scxml',\n    type: 'external'\n  }, scxmlEvent);\n}\nfunction toTransitionConfigArray(event, configLike) {\n  var transitions = toArrayStrict(configLike).map(function (transitionLike) {\n    if (typeof transitionLike === 'undefined' || typeof transitionLike === 'string' || isMachine(transitionLike)) {\n      return {\n        target: transitionLike,\n        event: event\n      };\n    }\n    return __assign(__assign({}, transitionLike), {\n      event: event\n    });\n  });\n  return transitions;\n}\nfunction normalizeTarget(target) {\n  if (target === undefined || target === TARGETLESS_KEY) {\n    return undefined;\n  }\n  return toArray(target);\n}\nfunction reportUnhandledExceptionOnInvocation(originalError, currentError, id) {\n  if (!IS_PRODUCTION) {\n    var originalStackTrace = originalError.stack ? \" Stacktrace was '\".concat(originalError.stack, \"'\") : '';\n    if (originalError === currentError) {\n      // tslint:disable-next-line:no-console\n      console.error(\"Missing onError handler for invocation '\".concat(id, \"', error was '\").concat(originalError, \"'.\").concat(originalStackTrace));\n    } else {\n      var stackTrace = currentError.stack ? \" Stacktrace was '\".concat(currentError.stack, \"'\") : ''; // tslint:disable-next-line:no-console\n\n      console.error(\"Missing onError handler and/or unhandled exception/promise rejection for invocation '\".concat(id, \"'. \") + \"Original error: '\".concat(originalError, \"'. \").concat(originalStackTrace, \" Current error is '\").concat(currentError, \"'.\").concat(stackTrace));\n    }\n  }\n}\nfunction evaluateGuard(machine, guard, context, _event, state) {\n  var guards = machine.options.guards;\n  var guardMeta = {\n    state: state,\n    cond: guard,\n    _event: _event\n  }; // TODO: do not hardcode!\n\n  if (guard.type === DEFAULT_GUARD_TYPE) {\n    return ((guards === null || guards === void 0 ? void 0 : guards[guard.name]) || guard.predicate)(context, _event.data, guardMeta);\n  }\n  var condFn = guards === null || guards === void 0 ? void 0 : guards[guard.type];\n  if (!condFn) {\n    throw new Error(\"Guard '\".concat(guard.type, \"' is not implemented on machine '\").concat(machine.id, \"'.\"));\n  }\n  return condFn(context, _event.data, guardMeta);\n}\nfunction toInvokeSource(src) {\n  if (typeof src === 'string') {\n    return {\n      type: src\n    };\n  }\n  return src;\n}\nfunction toObserver(nextHandler, errorHandler, completionHandler) {\n  var noop = function () {};\n  var isObserver = typeof nextHandler === 'object';\n  var self = isObserver ? nextHandler : null;\n  return {\n    next: ((isObserver ? nextHandler.next : nextHandler) || noop).bind(self),\n    error: ((isObserver ? nextHandler.error : errorHandler) || noop).bind(self),\n    complete: ((isObserver ? nextHandler.complete : completionHandler) || noop).bind(self)\n  };\n}\nfunction createInvokeId(stateNodeId, index) {\n  return \"\".concat(stateNodeId, \":invocation[\").concat(index, \"]\");\n}\nfunction isRaisableAction(action) {\n  return (action.type === raise || action.type === send && action.to === SpecialTargets.Internal) && typeof action.delay !== 'number';\n}\nexport { createInvokeId, evaluateGuard, flatten, getActionType, getEventType, interopSymbols, isActor, isArray, isBehavior, isBuiltInEvent, isFunction, isMachine, isObservable, isPromiseLike, isRaisableAction, isStateLike, isString, keys, mapContext, mapFilterValues, mapValues, matchesState, nestedPath, normalizeTarget, partition, path, pathToStateValue, pathsToStateValue, reportUnhandledExceptionOnInvocation, symbolObservable, toArray, toArrayStrict, toEventObject, toGuard, toInvokeSource, toObserver, toSCXMLEvent, toStatePath, toStatePaths, toStateValue, toTransitionConfigArray, uniqueId, updateContext, updateHistoryStates, updateHistoryValue, warn };","map":{"version":3,"names":["__values","__spreadArray","__read","__assign","SpecialTargets","raise","send","DEFAULT_GUARD_TYPE","TARGETLESS_KEY","STATE_DELIMITER","IS_PRODUCTION","_a","keys","value","Object","matchesState","parentStateId","childStateId","delimiter","parentStateValue","toStateValue","childStateValue","isString","every","key","getEventType","event","concat","type","e","Error","getActionType","action","isFunction","name","toStatePath","stateId","isArray","toString","split","isStateLike","state","stateValue","pathToStateValue","statePath","length","marker","i","mapValues","collection","iteratee","result","collectionKeys","mapFilterValues","predicate","e_1","_b","_c","next","done","item","e_1_1","error","return","call","path","props","object","e_2","props_1","props_1_1","prop","e_2_1","nestedPath","accessorProp","e_3","props_2","props_2_1","e_3_1","toStatePaths","flatten","map","subStateValue","subPath","pathsToStateValue","paths","e_4","paths_1","paths_1_1","currentPath","e_4_1","array","apply","toArrayStrict","toArray","undefined","mapContext","mapper","context","_event","e_5","data","subMapper","e_5_1","isBuiltInEvent","eventType","test","isPromiseLike","Promise","then","isBehavior","transition","partition","items","e_6","truthy","falsy","items_1","items_1_1","push","e_6_1","updateHistoryStates","hist","states","subHist","current","updateHistoryValue","updateContext","assignActions","warn","updatedContext","reduce","acc","assignAction","e_7","assignment","meta","partialUpdate","propAssignment","e_7_1","assign","condition","message","console","args","Array","toGuard","guardMap","isObservable","subscribe","symbolObservable","Symbol","observable","interopSymbols","isMachine","isActor","uniqueId","currentId","toEventObject","payload","toSCXMLEvent","scxmlEvent","$$type","eventObject","toTransitionConfigArray","configLike","transitions","transitionLike","target","normalizeTarget","reportUnhandledExceptionOnInvocation","originalError","currentError","id","originalStackTrace","stack","stackTrace","evaluateGuard","machine","guard","guards","options","guardMeta","cond","condFn","toInvokeSource","src","toObserver","nextHandler","errorHandler","completionHandler","noop","isObserver","self","bind","complete","createInvokeId","stateNodeId","index","isRaisableAction","to","Internal","delay"],"sources":["E:/CSC-PROJECT/amplify-react-app/node_modules/xstate/es/utils.js"],"sourcesContent":["import { __values, __spreadArray, __read, __assign } from './_virtual/_tslib.js';\nimport { SpecialTargets } from './types.js';\nimport { raise, send } from './actionTypes.js';\nimport { DEFAULT_GUARD_TYPE, TARGETLESS_KEY, STATE_DELIMITER } from './constants.js';\nimport { IS_PRODUCTION } from './environment.js';\n\nvar _a;\nfunction keys(value) {\n  return Object.keys(value);\n}\nfunction matchesState(parentStateId, childStateId, delimiter) {\n  if (delimiter === void 0) {\n    delimiter = STATE_DELIMITER;\n  }\n\n  var parentStateValue = toStateValue(parentStateId, delimiter);\n  var childStateValue = toStateValue(childStateId, delimiter);\n\n  if (isString(childStateValue)) {\n    if (isString(parentStateValue)) {\n      return childStateValue === parentStateValue;\n    } // Parent more specific than child\n\n\n    return false;\n  }\n\n  if (isString(parentStateValue)) {\n    return parentStateValue in childStateValue;\n  }\n\n  return Object.keys(parentStateValue).every(function (key) {\n    if (!(key in childStateValue)) {\n      return false;\n    }\n\n    return matchesState(parentStateValue[key], childStateValue[key]);\n  });\n}\nfunction getEventType(event) {\n  try {\n    return isString(event) || typeof event === 'number' ? \"\".concat(event) : event.type;\n  } catch (e) {\n    throw new Error('Events must be strings or objects with a string event.type property.');\n  }\n}\nfunction getActionType(action) {\n  try {\n    return isString(action) || typeof action === 'number' ? \"\".concat(action) : isFunction(action) ? action.name : action.type;\n  } catch (e) {\n    throw new Error('Actions must be strings or objects with a string action.type property.');\n  }\n}\nfunction toStatePath(stateId, delimiter) {\n  try {\n    if (isArray(stateId)) {\n      return stateId;\n    }\n\n    return stateId.toString().split(delimiter);\n  } catch (e) {\n    throw new Error(\"'\".concat(stateId, \"' is not a valid state path.\"));\n  }\n}\nfunction isStateLike(state) {\n  return typeof state === 'object' && 'value' in state && 'context' in state && 'event' in state && '_event' in state;\n}\nfunction toStateValue(stateValue, delimiter) {\n  if (isStateLike(stateValue)) {\n    return stateValue.value;\n  }\n\n  if (isArray(stateValue)) {\n    return pathToStateValue(stateValue);\n  }\n\n  if (typeof stateValue !== 'string') {\n    return stateValue;\n  }\n\n  var statePath = toStatePath(stateValue, delimiter);\n  return pathToStateValue(statePath);\n}\nfunction pathToStateValue(statePath) {\n  if (statePath.length === 1) {\n    return statePath[0];\n  }\n\n  var value = {};\n  var marker = value;\n\n  for (var i = 0; i < statePath.length - 1; i++) {\n    if (i === statePath.length - 2) {\n      marker[statePath[i]] = statePath[i + 1];\n    } else {\n      marker[statePath[i]] = {};\n      marker = marker[statePath[i]];\n    }\n  }\n\n  return value;\n}\nfunction mapValues(collection, iteratee) {\n  var result = {};\n  var collectionKeys = Object.keys(collection);\n\n  for (var i = 0; i < collectionKeys.length; i++) {\n    var key = collectionKeys[i];\n    result[key] = iteratee(collection[key], key, collection, i);\n  }\n\n  return result;\n}\nfunction mapFilterValues(collection, iteratee, predicate) {\n  var e_1, _a;\n\n  var result = {};\n\n  try {\n    for (var _b = __values(Object.keys(collection)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var item = collection[key];\n\n      if (!predicate(item)) {\n        continue;\n      }\n\n      result[key] = iteratee(item, key, collection);\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return result;\n}\n/**\r\n * Retrieves a value at the given path.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nvar path = function (props) {\n  return function (object) {\n    var e_2, _a;\n\n    var result = object;\n\n    try {\n      for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n        var prop = props_1_1.value;\n        result = result[prop];\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    return result;\n  };\n};\n/**\r\n * Retrieves a value at the given path via the nested accessor prop.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nfunction nestedPath(props, accessorProp) {\n  return function (object) {\n    var e_3, _a;\n\n    var result = object;\n\n    try {\n      for (var props_2 = __values(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()) {\n        var prop = props_2_1.value;\n        result = result[accessorProp][prop];\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (props_2_1 && !props_2_1.done && (_a = props_2.return)) _a.call(props_2);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    return result;\n  };\n}\nfunction toStatePaths(stateValue) {\n  if (!stateValue) {\n    return [[]];\n  }\n\n  if (isString(stateValue)) {\n    return [[stateValue]];\n  }\n\n  var result = flatten(Object.keys(stateValue).map(function (key) {\n    var subStateValue = stateValue[key];\n\n    if (typeof subStateValue !== 'string' && (!subStateValue || !Object.keys(subStateValue).length)) {\n      return [[key]];\n    }\n\n    return toStatePaths(stateValue[key]).map(function (subPath) {\n      return [key].concat(subPath);\n    });\n  }));\n  return result;\n}\nfunction pathsToStateValue(paths) {\n  var e_4, _a;\n\n  var result = {};\n\n  if (paths && paths.length === 1 && paths[0].length === 1) {\n    return paths[0][0];\n  }\n\n  try {\n    for (var paths_1 = __values(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {\n      var currentPath = paths_1_1.value;\n      var marker = result; // tslint:disable-next-line:prefer-for-of\n\n      for (var i = 0; i < currentPath.length; i++) {\n        var subPath = currentPath[i];\n\n        if (i === currentPath.length - 2) {\n          marker[subPath] = currentPath[i + 1];\n          break;\n        }\n\n        marker[subPath] = marker[subPath] || {};\n        marker = marker[subPath];\n      }\n    }\n  } catch (e_4_1) {\n    e_4 = {\n      error: e_4_1\n    };\n  } finally {\n    try {\n      if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n    } finally {\n      if (e_4) throw e_4.error;\n    }\n  }\n\n  return result;\n}\nfunction flatten(array) {\n  var _a;\n\n  return (_a = []).concat.apply(_a, __spreadArray([], __read(array), false));\n}\nfunction toArrayStrict(value) {\n  if (isArray(value)) {\n    return value;\n  }\n\n  return [value];\n}\nfunction toArray(value) {\n  if (value === undefined) {\n    return [];\n  }\n\n  return toArrayStrict(value);\n}\nfunction mapContext(mapper, context, _event) {\n  var e_5, _a;\n\n  if (isFunction(mapper)) {\n    return mapper(context, _event.data);\n  }\n\n  var result = {};\n\n  try {\n    for (var _b = __values(Object.keys(mapper)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var subMapper = mapper[key];\n\n      if (isFunction(subMapper)) {\n        result[key] = subMapper(context, _event.data);\n      } else {\n        result[key] = subMapper;\n      }\n    }\n  } catch (e_5_1) {\n    e_5 = {\n      error: e_5_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_5) throw e_5.error;\n    }\n  }\n\n  return result;\n}\nfunction isBuiltInEvent(eventType) {\n  return /^(done|error)\\./.test(eventType);\n}\nfunction isPromiseLike(value) {\n  if (value instanceof Promise) {\n    return true;\n  } // Check if shape matches the Promise/A+ specification for a \"thenable\".\n\n\n  if (value !== null && (isFunction(value) || typeof value === 'object') && isFunction(value.then)) {\n    return true;\n  }\n\n  return false;\n}\nfunction isBehavior(value) {\n  return value !== null && typeof value === 'object' && 'transition' in value && typeof value.transition === 'function';\n}\nfunction partition(items, predicate) {\n  var e_6, _a;\n\n  var _b = __read([[], []], 2),\n      truthy = _b[0],\n      falsy = _b[1];\n\n  try {\n    for (var items_1 = __values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n      var item = items_1_1.value;\n\n      if (predicate(item)) {\n        truthy.push(item);\n      } else {\n        falsy.push(item);\n      }\n    }\n  } catch (e_6_1) {\n    e_6 = {\n      error: e_6_1\n    };\n  } finally {\n    try {\n      if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n    } finally {\n      if (e_6) throw e_6.error;\n    }\n  }\n\n  return [truthy, falsy];\n}\nfunction updateHistoryStates(hist, stateValue) {\n  return mapValues(hist.states, function (subHist, key) {\n    if (!subHist) {\n      return undefined;\n    }\n\n    var subStateValue = (isString(stateValue) ? undefined : stateValue[key]) || (subHist ? subHist.current : undefined);\n\n    if (!subStateValue) {\n      return undefined;\n    }\n\n    return {\n      current: subStateValue,\n      states: updateHistoryStates(subHist, subStateValue)\n    };\n  });\n}\nfunction updateHistoryValue(hist, stateValue) {\n  return {\n    current: stateValue,\n    states: updateHistoryStates(hist, stateValue)\n  };\n}\nfunction updateContext(context, _event, assignActions, state) {\n  if (!IS_PRODUCTION) {\n    warn(!!context, 'Attempting to update undefined context');\n  }\n\n  var updatedContext = context ? assignActions.reduce(function (acc, assignAction) {\n    var e_7, _a;\n\n    var assignment = assignAction.assignment;\n    var meta = {\n      state: state,\n      action: assignAction,\n      _event: _event\n    };\n    var partialUpdate = {};\n\n    if (isFunction(assignment)) {\n      partialUpdate = assignment(acc, _event.data, meta);\n    } else {\n      try {\n        for (var _b = __values(Object.keys(assignment)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var key = _c.value;\n          var propAssignment = assignment[key];\n          partialUpdate[key] = isFunction(propAssignment) ? propAssignment(acc, _event.data, meta) : propAssignment;\n        }\n      } catch (e_7_1) {\n        e_7 = {\n          error: e_7_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_7) throw e_7.error;\n        }\n      }\n    }\n\n    return Object.assign({}, acc, partialUpdate);\n  }, context) : context;\n  return updatedContext;\n} // tslint:disable-next-line:no-empty\n\nvar warn = function () {};\n\nif (!IS_PRODUCTION) {\n  warn = function (condition, message) {\n    var error = condition instanceof Error ? condition : undefined;\n\n    if (!error && condition) {\n      return;\n    }\n\n    if (console !== undefined) {\n      var args = [\"Warning: \".concat(message)];\n\n      if (error) {\n        args.push(error);\n      } // tslint:disable-next-line:no-console\n\n\n      console.warn.apply(console, args);\n    }\n  };\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n} // tslint:disable-next-line:ban-types\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction toGuard(condition, guardMap) {\n  if (!condition) {\n    return undefined;\n  }\n\n  if (isString(condition)) {\n    return {\n      type: DEFAULT_GUARD_TYPE,\n      name: condition,\n      predicate: guardMap ? guardMap[condition] : undefined\n    };\n  }\n\n  if (isFunction(condition)) {\n    return {\n      type: DEFAULT_GUARD_TYPE,\n      name: condition.name,\n      predicate: condition\n    };\n  }\n\n  return condition;\n}\nfunction isObservable(value) {\n  try {\n    return 'subscribe' in value && isFunction(value.subscribe);\n  } catch (e) {\n    return false;\n  }\n}\nvar symbolObservable = /*#__PURE__*/function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}(); // TODO: to be removed in v5, left it out just to minimize the scope of the change and maintain compatibility with older versions of integration paackages\n\nvar interopSymbols = (_a = {}, _a[symbolObservable] = function () {\n  return this;\n}, _a[Symbol.observable] = function () {\n  return this;\n}, _a);\nfunction isMachine(value) {\n  return !!value && '__xstatenode' in value;\n}\nfunction isActor(value) {\n  return !!value && typeof value.send === 'function';\n}\nvar uniqueId = /*#__PURE__*/function () {\n  var currentId = 0;\n  return function () {\n    currentId++;\n    return currentId.toString(16);\n  };\n}();\nfunction toEventObject(event, payload // id?: TEvent['type']\n) {\n  if (isString(event) || typeof event === 'number') {\n    return __assign({\n      type: event\n    }, payload);\n  }\n\n  return event;\n}\nfunction toSCXMLEvent(event, scxmlEvent) {\n  if (!isString(event) && '$$type' in event && event.$$type === 'scxml') {\n    return event;\n  }\n\n  var eventObject = toEventObject(event);\n  return __assign({\n    name: eventObject.type,\n    data: eventObject,\n    $$type: 'scxml',\n    type: 'external'\n  }, scxmlEvent);\n}\nfunction toTransitionConfigArray(event, configLike) {\n  var transitions = toArrayStrict(configLike).map(function (transitionLike) {\n    if (typeof transitionLike === 'undefined' || typeof transitionLike === 'string' || isMachine(transitionLike)) {\n      return {\n        target: transitionLike,\n        event: event\n      };\n    }\n\n    return __assign(__assign({}, transitionLike), {\n      event: event\n    });\n  });\n  return transitions;\n}\nfunction normalizeTarget(target) {\n  if (target === undefined || target === TARGETLESS_KEY) {\n    return undefined;\n  }\n\n  return toArray(target);\n}\nfunction reportUnhandledExceptionOnInvocation(originalError, currentError, id) {\n  if (!IS_PRODUCTION) {\n    var originalStackTrace = originalError.stack ? \" Stacktrace was '\".concat(originalError.stack, \"'\") : '';\n\n    if (originalError === currentError) {\n      // tslint:disable-next-line:no-console\n      console.error(\"Missing onError handler for invocation '\".concat(id, \"', error was '\").concat(originalError, \"'.\").concat(originalStackTrace));\n    } else {\n      var stackTrace = currentError.stack ? \" Stacktrace was '\".concat(currentError.stack, \"'\") : ''; // tslint:disable-next-line:no-console\n\n      console.error(\"Missing onError handler and/or unhandled exception/promise rejection for invocation '\".concat(id, \"'. \") + \"Original error: '\".concat(originalError, \"'. \").concat(originalStackTrace, \" Current error is '\").concat(currentError, \"'.\").concat(stackTrace));\n    }\n  }\n}\nfunction evaluateGuard(machine, guard, context, _event, state) {\n  var guards = machine.options.guards;\n  var guardMeta = {\n    state: state,\n    cond: guard,\n    _event: _event\n  }; // TODO: do not hardcode!\n\n  if (guard.type === DEFAULT_GUARD_TYPE) {\n    return ((guards === null || guards === void 0 ? void 0 : guards[guard.name]) || guard.predicate)(context, _event.data, guardMeta);\n  }\n\n  var condFn = guards === null || guards === void 0 ? void 0 : guards[guard.type];\n\n  if (!condFn) {\n    throw new Error(\"Guard '\".concat(guard.type, \"' is not implemented on machine '\").concat(machine.id, \"'.\"));\n  }\n\n  return condFn(context, _event.data, guardMeta);\n}\nfunction toInvokeSource(src) {\n  if (typeof src === 'string') {\n    return {\n      type: src\n    };\n  }\n\n  return src;\n}\nfunction toObserver(nextHandler, errorHandler, completionHandler) {\n  var noop = function () {};\n\n  var isObserver = typeof nextHandler === 'object';\n  var self = isObserver ? nextHandler : null;\n  return {\n    next: ((isObserver ? nextHandler.next : nextHandler) || noop).bind(self),\n    error: ((isObserver ? nextHandler.error : errorHandler) || noop).bind(self),\n    complete: ((isObserver ? nextHandler.complete : completionHandler) || noop).bind(self)\n  };\n}\nfunction createInvokeId(stateNodeId, index) {\n  return \"\".concat(stateNodeId, \":invocation[\").concat(index, \"]\");\n}\nfunction isRaisableAction(action) {\n  return (action.type === raise || action.type === send && action.to === SpecialTargets.Internal) && typeof action.delay !== 'number';\n}\n\nexport { createInvokeId, evaluateGuard, flatten, getActionType, getEventType, interopSymbols, isActor, isArray, isBehavior, isBuiltInEvent, isFunction, isMachine, isObservable, isPromiseLike, isRaisableAction, isStateLike, isString, keys, mapContext, mapFilterValues, mapValues, matchesState, nestedPath, normalizeTarget, partition, path, pathToStateValue, pathsToStateValue, reportUnhandledExceptionOnInvocation, symbolObservable, toArray, toArrayStrict, toEventObject, toGuard, toInvokeSource, toObserver, toSCXMLEvent, toStatePath, toStatePaths, toStateValue, toTransitionConfigArray, uniqueId, updateContext, updateHistoryStates, updateHistoryValue, warn };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}