{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Middleware injects user agent string to specified header(default to 'x-amz-user-agent'),\n * if the header is not set already.\n *\n * TODO: incorporate new user agent design\n */\nconst userAgentMiddlewareFactory = ({\n  userAgentHeader = 'x-amz-user-agent',\n  userAgentValue = ''\n}) => next => {\n  return async function userAgentMiddleware(request) {\n    if (userAgentValue.trim().length === 0) {\n      const result = await next(request);\n      return result;\n    } else {\n      const headerName = userAgentHeader.toLowerCase();\n      request.headers[headerName] = request.headers[headerName] ? `${request.headers[headerName]} ${userAgentValue}` : userAgentValue;\n      const response = await next(request);\n      return response;\n    }\n  };\n};\nexport { userAgentMiddlewareFactory };","map":{"version":3,"names":["userAgentMiddlewareFactory","userAgentHeader","userAgentValue","next","userAgentMiddleware","request","trim","length","result","headerName","toLowerCase","headers","response"],"sources":["E:\\CSC-PROJECT\\amplify-react-app\\node_modules\\@aws-amplify\\core\\src\\clients\\middleware\\userAgent\\middleware.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Middleware injects user agent string to specified header(default to 'x-amz-user-agent'),\n * if the header is not set already.\n *\n * TODO: incorporate new user agent design\n */\nexport const userAgentMiddlewareFactory = ({ userAgentHeader = 'x-amz-user-agent', userAgentValue = '', }) => next => {\n    return async function userAgentMiddleware(request) {\n        if (userAgentValue.trim().length === 0) {\n            const result = await next(request);\n            return result;\n        }\n        else {\n            const headerName = userAgentHeader.toLowerCase();\n            request.headers[headerName] = request.headers[headerName]\n                ? `${request.headers[headerName]} ${userAgentValue}`\n                : userAgentValue;\n            const response = await next(request);\n            return response;\n        }\n    };\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAACA,0BAA0B,GAAGA,CAAC;EAAEC,eAAe,GAAG,kBAAkB;EAAEC,cAAc,GAAG;AAAE,CAAG,KAAKC,IAAI,IAAI;EAClH,OAAO,eAAeC,mBAAmBA,CAACC,OAAO,EAAE;IAC/C,IAAIH,cAAc,CAACI,IAAI,EAAE,CAACC,MAAM,KAAK,CAAC,EAAE;MACpC,MAAMC,MAAM,GAAG,MAAML,IAAI,CAACE,OAAO,CAAC;MAClC,OAAOG,MAAM;IACzB,CAAS,MACI;MACD,MAAMC,UAAU,GAAGR,eAAe,CAACS,WAAW,EAAE;MAChDL,OAAO,CAACM,OAAO,CAACF,UAAU,CAAC,GAAGJ,OAAO,CAACM,OAAO,CAACF,UAAU,CAAC,GAClD,GAAEJ,OAAO,CAACM,OAAO,CAACF,UAAU,CAAE,IAAGP,cAAe,EAAC,GAClDA,cAAc;MACpB,MAAMU,QAAQ,GAAG,MAAMT,IAAI,CAACE,OAAO,CAAC;MACpC,OAAOO,QAAQ;IAC3B;EACA,CAAK;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}