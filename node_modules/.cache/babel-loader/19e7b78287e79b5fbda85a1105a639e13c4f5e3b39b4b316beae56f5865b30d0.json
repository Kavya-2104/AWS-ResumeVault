{"ast":null,"code":"import * as React from 'react';\nimport { isFunction } from '@aws-amplify/ui';\nimport { ESCAPE_KEY, ENTER_KEY } from '../shared/constants.mjs';\nimport { useComposeRefsCallback } from '../../hooks/useComposeRefsCallback.mjs';\nconst DEFAULT_KEYS = new Set([ESCAPE_KEY, ENTER_KEY]);\nconst useSearchField = ({\n  defaultValue = '',\n  value,\n  onChange,\n  onClear,\n  onSubmit,\n  externalRef\n}) => {\n  const isControlled = value !== undefined;\n  const [internalValue, setInternalValue] = React.useState(defaultValue);\n  const composedValue = isControlled ? value : internalValue;\n  const internalRef = React.useRef(null);\n  const composedRefs = useComposeRefsCallback({\n    externalRef,\n    internalRef\n  });\n  const onClearHandler = React.useCallback(() => {\n    if (!isControlled) {\n      setInternalValue('');\n    }\n    internalRef?.current?.focus();\n    if (isFunction(onClear)) {\n      onClear();\n    }\n  }, [isControlled, setInternalValue, onClear]);\n  const onSubmitHandler = React.useCallback(value => {\n    if (isFunction(onSubmit)) {\n      onSubmit(value);\n    }\n  }, [onSubmit]);\n  const onKeyDown = React.useCallback(event => {\n    const {\n      key\n    } = event;\n    if (!DEFAULT_KEYS.has(key)) {\n      return;\n    }\n    event.preventDefault();\n    if (key === ESCAPE_KEY) {\n      onClearHandler();\n    } else if (key === ENTER_KEY) {\n      onSubmitHandler(composedValue);\n    }\n  }, [composedValue, onClearHandler, onSubmitHandler]);\n  const handleOnChange = React.useCallback(event => {\n    if (!isControlled) {\n      setInternalValue(event.target.value);\n    }\n    if (isFunction(onChange)) {\n      onChange(event);\n    }\n  }, [isControlled, onChange, setInternalValue]);\n  const onClick = React.useCallback(() => {\n    onSubmitHandler(composedValue);\n  }, [onSubmitHandler, composedValue]);\n  return {\n    composedValue,\n    onClearHandler,\n    onKeyDown,\n    onClick,\n    handleOnChange,\n    composedRefs\n  };\n};\nexport { useSearchField };","map":{"version":3,"names":["React","isFunction","ESCAPE_KEY","ENTER_KEY","useComposeRefsCallback","DEFAULT_KEYS","Set","useSearchField","defaultValue","value","onChange","onClear","onSubmit","externalRef","isControlled","undefined","internalValue","setInternalValue","useState","composedValue","internalRef","useRef","composedRefs","onClearHandler","useCallback","current","focus","onSubmitHandler","onKeyDown","event","key","has","preventDefault","handleOnChange","target","onClick"],"sources":["E:/CSC-PROJECT/amplify-react-app/node_modules/@aws-amplify/ui-react/dist/esm/primitives/SearchField/useSearchField.mjs"],"sourcesContent":["import * as React from 'react';\nimport { isFunction } from '@aws-amplify/ui';\nimport { ESCAPE_KEY, ENTER_KEY } from '../shared/constants.mjs';\nimport { useComposeRefsCallback } from '../../hooks/useComposeRefsCallback.mjs';\n\nconst DEFAULT_KEYS = new Set([ESCAPE_KEY, ENTER_KEY]);\nconst useSearchField = ({ defaultValue = '', value, onChange, onClear, onSubmit, externalRef, }) => {\n    const isControlled = value !== undefined;\n    const [internalValue, setInternalValue] = React.useState(defaultValue);\n    const composedValue = isControlled ? value : internalValue;\n    const internalRef = React.useRef(null);\n    const composedRefs = useComposeRefsCallback({\n        externalRef,\n        internalRef,\n    });\n    const onClearHandler = React.useCallback(() => {\n        if (!isControlled) {\n            setInternalValue('');\n        }\n        internalRef?.current?.focus();\n        if (isFunction(onClear)) {\n            onClear();\n        }\n    }, [isControlled, setInternalValue, onClear]);\n    const onSubmitHandler = React.useCallback((value) => {\n        if (isFunction(onSubmit)) {\n            onSubmit(value);\n        }\n    }, [onSubmit]);\n    const onKeyDown = React.useCallback((event) => {\n        const { key } = event;\n        if (!DEFAULT_KEYS.has(key)) {\n            return;\n        }\n        event.preventDefault();\n        if (key === ESCAPE_KEY) {\n            onClearHandler();\n        }\n        else if (key === ENTER_KEY) {\n            onSubmitHandler(composedValue);\n        }\n    }, [composedValue, onClearHandler, onSubmitHandler]);\n    const handleOnChange = React.useCallback((event) => {\n        if (!isControlled) {\n            setInternalValue(event.target.value);\n        }\n        if (isFunction(onChange)) {\n            onChange(event);\n        }\n    }, [isControlled, onChange, setInternalValue]);\n    const onClick = React.useCallback(() => {\n        onSubmitHandler(composedValue);\n    }, [onSubmitHandler, composedValue]);\n    return {\n        composedValue,\n        onClearHandler,\n        onKeyDown,\n        onClick,\n        handleOnChange,\n        composedRefs,\n    };\n};\n\nexport { useSearchField };\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,UAAU,QAAQ,iBAAiB;AAC5C,SAASC,UAAU,EAAEC,SAAS,QAAQ,yBAAyB;AAC/D,SAASC,sBAAsB,QAAQ,wCAAwC;AAE/E,MAAMC,YAAY,GAAG,IAAIC,GAAG,CAAC,CAACJ,UAAU,EAAEC,SAAS,CAAC,CAAC;AACrD,MAAMI,cAAc,GAAGA,CAAC;EAAEC,YAAY,GAAG,EAAE;EAAEC,KAAK;EAAEC,QAAQ;EAAEC,OAAO;EAAEC,QAAQ;EAAEC;AAAa,CAAC,KAAK;EAChG,MAAMC,YAAY,GAAGL,KAAK,KAAKM,SAAS;EACxC,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,KAAK,CAACkB,QAAQ,CAACV,YAAY,CAAC;EACtE,MAAMW,aAAa,GAAGL,YAAY,GAAGL,KAAK,GAAGO,aAAa;EAC1D,MAAMI,WAAW,GAAGpB,KAAK,CAACqB,MAAM,CAAC,IAAI,CAAC;EACtC,MAAMC,YAAY,GAAGlB,sBAAsB,CAAC;IACxCS,WAAW;IACXO;EACJ,CAAC,CAAC;EACF,MAAMG,cAAc,GAAGvB,KAAK,CAACwB,WAAW,CAAC,MAAM;IAC3C,IAAI,CAACV,YAAY,EAAE;MACfG,gBAAgB,CAAC,EAAE,CAAC;IACxB;IACAG,WAAW,EAAEK,OAAO,EAAEC,KAAK,CAAC,CAAC;IAC7B,IAAIzB,UAAU,CAACU,OAAO,CAAC,EAAE;MACrBA,OAAO,CAAC,CAAC;IACb;EACJ,CAAC,EAAE,CAACG,YAAY,EAAEG,gBAAgB,EAAEN,OAAO,CAAC,CAAC;EAC7C,MAAMgB,eAAe,GAAG3B,KAAK,CAACwB,WAAW,CAAEf,KAAK,IAAK;IACjD,IAAIR,UAAU,CAACW,QAAQ,CAAC,EAAE;MACtBA,QAAQ,CAACH,KAAK,CAAC;IACnB;EACJ,CAAC,EAAE,CAACG,QAAQ,CAAC,CAAC;EACd,MAAMgB,SAAS,GAAG5B,KAAK,CAACwB,WAAW,CAAEK,KAAK,IAAK;IAC3C,MAAM;MAAEC;IAAI,CAAC,GAAGD,KAAK;IACrB,IAAI,CAACxB,YAAY,CAAC0B,GAAG,CAACD,GAAG,CAAC,EAAE;MACxB;IACJ;IACAD,KAAK,CAACG,cAAc,CAAC,CAAC;IACtB,IAAIF,GAAG,KAAK5B,UAAU,EAAE;MACpBqB,cAAc,CAAC,CAAC;IACpB,CAAC,MACI,IAAIO,GAAG,KAAK3B,SAAS,EAAE;MACxBwB,eAAe,CAACR,aAAa,CAAC;IAClC;EACJ,CAAC,EAAE,CAACA,aAAa,EAAEI,cAAc,EAAEI,eAAe,CAAC,CAAC;EACpD,MAAMM,cAAc,GAAGjC,KAAK,CAACwB,WAAW,CAAEK,KAAK,IAAK;IAChD,IAAI,CAACf,YAAY,EAAE;MACfG,gBAAgB,CAACY,KAAK,CAACK,MAAM,CAACzB,KAAK,CAAC;IACxC;IACA,IAAIR,UAAU,CAACS,QAAQ,CAAC,EAAE;MACtBA,QAAQ,CAACmB,KAAK,CAAC;IACnB;EACJ,CAAC,EAAE,CAACf,YAAY,EAAEJ,QAAQ,EAAEO,gBAAgB,CAAC,CAAC;EAC9C,MAAMkB,OAAO,GAAGnC,KAAK,CAACwB,WAAW,CAAC,MAAM;IACpCG,eAAe,CAACR,aAAa,CAAC;EAClC,CAAC,EAAE,CAACQ,eAAe,EAAER,aAAa,CAAC,CAAC;EACpC,OAAO;IACHA,aAAa;IACbI,cAAc;IACdK,SAAS;IACTO,OAAO;IACPF,cAAc;IACdX;EACJ,CAAC;AACL,CAAC;AAED,SAASf,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}